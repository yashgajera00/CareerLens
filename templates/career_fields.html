<form method="POST" action="/select-career-fields" onsubmit="return validateSelection()">
    <h4 class="mb-3">Select Career Fields (Min 1 â€“ Max 5)</h4>

    <div class="dropdown mb-3">
        <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown">
            Choose Career Fields
        </button>

        <ul class="dropdown-menu p-3" style="max-height:300px; overflow-y:auto;">
            {% for field in all_careers %}
            <li>
                <label>
                    <input type="checkbox" class="field-check" name="career_fields" value="{{ field }}">
                    {{ field }}
                </label>
            </li>
            {% endfor %}
        </ul>
    </div>

    <button type="submit" class="btn btn-success">
        Save Selection
    </button>
</form>

<script>
function validateSelection() {
    const checked = document.querySelectorAll('.field-check:checked');

    if (checked.length < 1) {
        alert("Select at least ONE career field!");
        return false;
    }

    if (checked.length > 5) {
        alert("You can select maximum FIVE career fields only!");
        return false;
    }

    return true;
}

</script>